<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Perbandingan Senilai</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
*{box-sizing:border-box;font-family:'Segoe UI',Tahoma,Verdana,sans-serif}

body{
margin:0;
background:linear-gradient(rgba(15,23,42,.95),rgba(15,23,42,.95));
color:#e5e7eb;
}

.navbar{
background:rgba(0,0,0,.7);
backdrop-filter:blur(8px);
}

.brand{
display:flex;
align-items:center;
gap:10px;
font-weight:800;
font-size:22px;
color:#38bdf8;
text-decoration:none;
}

.section{
background:rgba(30,41,59,.97);
border-radius:18px;
padding:24px;
margin-bottom:30px;
box-shadow:0 12px 25px rgba(0,0,0,.45);
}

.geo-box{
background:#020617;
border-radius:16px;
padding:15px;
margin-bottom:15px;
}

.opt-btn{
display:block;
width:100%;
margin:6px 0;
}

canvas{
background:#fff;
border-radius:12px;
padding:8px;
}
</style>
</head>

<body>

<nav class="navbar fixed-top">
<div class="container">
<a class="brand" href="#"><i class="fa-solid fa-scale-balanced"></i> DESWANDHANA AS</a>
</div>
</nav>

<section class="container py-5 mt-5">

<h1 class="mb-3">Perbandingan Senilai</h1>
<p>Media pembelajaran interaktif matematika</p>

<!-- PENGERTIAN -->
<div class="section">
<h3>Pengertian</h3>
<p>
Perbandingan senilai adalah hubungan dua besaran yang berubah secara <b>berbanding lurus</b>.
Jika satu nilai bertambah, maka nilai lainnya juga bertambah dengan perbandingan tetap.
</p>
<div class="geo-box">
<b>Rumus:</b> y = kx <br>
<b>Keterangan:</b> k = konstanta perbandingan
</div>
</div>

<!-- GRAFIK -->
<div class="section">
<h3>Visualisasi Grafik Interaktif</h3>
<div class="row g-3">

<div class="col-md-4 geo-box">
<label>Nilai k</label>
<input type="number" id="kInput" class="form-control mb-2" value="2" oninput="updateGraph()">

<label>X maksimum</label>
<input type="number" id="xMax" class="form-control mb-2" value="10" oninput="updateGraph()">

<table class="table table-dark table-bordered text-center mt-3">
<thead><tr><th>x</th><th>y</th></tr></thead>
<tbody id="tableData"></tbody>
</table>
</div>

<div class="col-md-8 geo-box">
<canvas id="graph" height="300"></canvas>
</div>

</div>
</div>

<!-- LATIHAN SULIT -->
<div class="section">
<h3>Latihan </h3>

<div class="geo-box">
<p id="latihanSoal"></p>
<div id="latihanPilihan"></div>
<div id="latihanRes" class="fw-bold mt-2"></div>
<div class="mt-2">Skor: <span id="latihanSkor">0</span> / 10</div>
<button class="btn btn-warning mt-3" onclick="nextLatihan()">Soal Berikutnya</button>
</div>
</div>

<!-- GAME -->
<div class="section border border-info">
<h3>Game</h3>

<div class="geo-box">
<p id="gameSoal"></p>
<div id="gamePilihan"></div>
<div id="gameRes" class="fw-bold mt-2"></div>
<div class="mt-2">Skor: <span id="gameSkor">0</span> / 10</div>
<button class="btn btn-success mt-3" onclick="nextGame()">Next Level</button>
</div>
</div>

</section>

<script>
let chart;

function updateGraph(){
  let k = parseFloat(document.getElementById('kInput').value);
  let xMax = parseInt(document.getElementById('xMax').value);

  if(isNaN(k) || isNaN(xMax) || xMax<=0) return;

  let x = [];
  let y = [];

  for(let i=1;i<=xMax;i++){
    x.push(i);
    y.push(k*i);
  }

  let table="";
  x.forEach((v,i)=>{
    table += `<tr><td>${v}</td><td>${y[i]}</td></tr>`;
  });
  document.getElementById("tableData").innerHTML = table;

  if(!chart){
    chart = new Chart(document.getElementById("graph"),{
      type:'line',
      data:{ labels:x, datasets:[{ label:'y = kx', data:y, borderWidth:3, tension:0.3 }]},
      options:{ responsive:true, animation:false }
    });
  } else {
    chart.data.labels = x;
    chart.data.datasets[0].data = y;
    chart.update();
  }
}
updateGraph();

// ===== LATIHAN SULIT =====
const latihan = [
{q:"Jika 6 pekerja menyelesaikan proyek dalam 15 hari, berapa hari yang dibutuhkan 10 pekerja?", o:["9 hari","10 hari","12 hari"], a:"9 hari"},
{q:"12 mesin menghasilkan 180 unit barang. Berapa hasil 20 mesin?", o:["280","300","320"], a:"300"},
{q:"5 liter bensin menempuh 75 km. Jarak 18 liter?", o:["250 km","260 km","270 km"], a:"270 km"},
{q:"8 buku = Rp64.000. Harga 15 buku?", o:["Rp110.000","Rp120.000","Rp130.000"], a:"Rp120.000"},
{q:"4 kg beras cukup untuk 8 hari. Untuk 30 hari perlu?", o:["15 kg","16 kg","18 kg"], a:"15 kg"},
{q:"10 kue dibuat dari 2 kg tepung. Untuk 45 kue butuh?", o:["8 kg","9 kg","10 kg"], a:"9 kg"},
{q:"6 m kain = Rp90.000. Harga 25 m?", o:["Rp350.000","Rp375.000","Rp400.000"], a:"Rp375.000"},
{q:"3 jam menempuh 45 km. Dalam 11 jam?", o:["155 km","160 km","165 km"], a:"165 km"},
{q:"12 siswa menghabiskan 36 roti. Untuk 25 siswa?", o:["70","72","75"], a:"75"},
{q:"5 hari = 2 proyek. Dalam 18 hari?", o:["6","7","8"], a:"7"},
];

let lIndex=0,lScore=0;

function tampilLatihan(){
let d=latihan[lIndex];
document.getElementById("latihanSoal").innerHTML=`Soal ${lIndex+1}: ${d.q}`;
let opsi="";
d.o.forEach(x=>{ opsi+=`<button class="btn btn-outline-info opt-btn" onclick="cekLatihan('${x}')">${x}</button>`; });
document.getElementById("latihanPilihan").innerHTML=opsi;
}

function cekLatihan(j){
if(j==latihan[lIndex].a){ lScore++; document.getElementById("latihanRes").innerHTML="‚úÖ Benar"; }
else document.getElementById("latihanRes").innerHTML="‚ùå Salah";
document.getElementById("latihanSkor").innerText=lScore;
}

function nextLatihan(){
lIndex++;
if(lIndex<latihan.length){ document.getElementById("latihanRes").innerHTML=""; tampilLatihan(); }
else document.getElementById("latihanSoal").innerHTML="üéâ Latihan selesai!";
}
tampilLatihan();

// ===== GAME =====
const game=[
{q:"12 pekerja ‚Üí 9 hari. 20 pekerja ‚Üí ?",o:["5","6","7"],a:"5"},
{q:"15 mesin ‚Üí 300 barang. 25 mesin ‚Üí ?",o:["450","500","550"],a:"500"},
{q:"8 liter ‚Üí 120 km. 22 liter ‚Üí ?",o:["310","320","330"],a:"330"},
{q:"7 kg ‚Üí Rp84.000. 20 kg ‚Üí ?",o:["Rp230.000","Rp240.000","Rp250.000"],a:"Rp240.000"},
{q:"9 siswa ‚Üí 27 buku. 32 siswa ‚Üí ?",o:["90","96","100"],a:"96"},
{q:"4 jam ‚Üí 68 km. 15 jam ‚Üí ?",o:["240","255","270"],a:"255"},
{q:"10 karung ‚Üí 250 kg. 18 karung ‚Üí ?",o:["430","450","470"],a:"450"},
{q:"6 hari ‚Üí 18 proyek. 20 hari ‚Üí ?",o:["50","60","70"],a:"60"},
{q:"12 meter ‚Üí Rp96.000. 35 meter ‚Üí ?",o:["Rp270.000","Rp280.000","Rp290.000"],a:"Rp280.000"},
{q:"5 truk ‚Üí 40 ton. 18 truk ‚Üí ?",o:["130","140","144"],a:"144"},
];

let gIndex=0,gScore=0;

function tampilGame(){
let d=game[gIndex];
document.getElementById("gameSoal").innerHTML=`Level ${gIndex+1}: ${d.q}`;
let opsi="";
d.o.forEach(x=>{ opsi+=`<button class="btn btn-primary opt-btn" onclick="cekGame('${x}')">${x}</button>`; });
document.getElementById("gamePilihan").innerHTML=opsi;
}

function cekGame(j){
if(j==game[gIndex].a){ gScore++; document.getElementById("gameRes").innerHTML="üéØ Benar"; }
else document.getElementById("gameRes").innerHTML="üòÖ Salah";
document.getElementById("gameSkor").innerText=gScore;
}

function nextGame(){
gIndex++;
if(gIndex<game.length){ document.getElementById("gameRes").innerHTML=""; tampilGame(); }
else document.getElementById("gameSoal").innerHTML="üèÜ Game selesai!";
}
tampilGame();
</script>

</body>
</html>